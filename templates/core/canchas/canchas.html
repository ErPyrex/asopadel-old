{% extends 'base.html' %}
{% load static %}
{% block title %}Canchas disponibles{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/canchas.css' %}">
<h2 class="titulo-seccion">ğŸŸï¸ Canchas disponibles</h2>

<div class="grid-canchas">
  {% for cancha in canchas %}
    <div class="card-cancha {{ cancha.estado }}">
      {% if cancha.imagen %}
        <img src="{{ cancha.imagen.url }}" alt="Imagen de {{ cancha.nombre }}">
      {% endif %}

      <h3>{{ cancha.nombre }}</h3>
      <p>{{ cancha.tipo }} | {{ cancha.ubicacion }}</p>
      <span class="estado">{{ cancha.estado|title }}</span>

      {% if cancha.estado == 'disponible' %}
        <button class="btn-reservar">Reservar</button>
      {% elif cancha.estado == 'mantenimiento' %}
        <span class="alerta">âš ï¸ En mantenimiento</span>
      <div class="acciones">
        <a href="{% url 'core:admin_edit_court' cancha.id %}" class="btn btn-editar">âœï¸ Editar</a>
        <form action="{% url 'core:admin_delete_court' cancha.id %}" method="POST" class="inline-form">
          {% csrf_token %}
          <button type="submit" class="btn btn-eliminar" onclick="return confirm('Â¿Eliminar esta cancha?')">ğŸ—‘ï¸ Eliminar</button>
        </form>
      </div>
        </form>
      </div>
    </div>
  {% empty %}
    <p>No hay canchas registradas aÃºn.</p>
  {% endfor %}
</div>
{% endblock %}