{% extends 'base.html' %}
{% block title %}Lista de Ãrbitros{% endblock %}

{% block content %}
<h2>ğŸ‘¨â€âš–ï¸ Ãrbitros registrados</h2>
<p class="subtitulo">Cada Ã¡rbitro es un guardiÃ¡n del juego. Su criterio define el ritmo.</p>

<!-- ğŸ” Buscador -->
<form method="get" class="busqueda-form">
  <input type="text" name="q" placeholder="Buscar por nombre..." value="{{ query }}">
  <button type="submit">ğŸ” Buscar</button>
</form>

<!-- â• Crear nuevo -->
<a href="{% url 'core:admin_create_referee' %}" class="btn">â• Crear Ã¡rbitro</a>

<!-- ğŸ“‹ Tabla de Ã¡rbitros -->
<table class="tabla-arbitros">
  <thead>
    <tr>
      <th>CÃ©dula</th>
      <th>Nombre completo</th>
      <th>Email</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for arbitro in arbitros %}
    <tr>
      <td>{{ arbitro.cedula }}</td>
      <td>{{ arbitro.first_name }} {{ arbitro.last_name }}</td>
      <td>{{ arbitro.email }}</td>
      <td>
        <a href="{% url 'core:admin_edit_referee' arbitro.id %}" class="btn-editar">âœï¸ Editar</a>
        <form action="{% url 'core:admin_delete_referee' arbitro.id %}" method="post" style="display:inline;" onsubmit="return confirm('Â¿Eliminar este Ã¡rbitro?');">
          {% csrf_token %}
          <button type="submit" class="btn-eliminar">ğŸ—‘ï¸</button>
        </form>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="4">No hay Ã¡rbitros registrados aÃºn.</td></tr>
    {% endfor %}
  </tbody>
</table>

<!-- ğŸ“„ PaginaciÃ³n -->
<div class="paginacion">
  {% if arbitros.has_previous %}
    <a href="?q={{ query }}&page={{ arbitros.previous_page_number }}">â¬…ï¸ Anterior</a>
  {% endif %}

  <span>PÃ¡gina {{ arbitros.number }} de {{ arbitros.paginator.num_pages }}</span>

  {% if arbitros.has_next %}
    <a href="?q={{ query }}&page={{ arbitros.next_page_number }}">Siguiente â¡ï¸</a>
  {% endif %}
</div>
{% endblock %}