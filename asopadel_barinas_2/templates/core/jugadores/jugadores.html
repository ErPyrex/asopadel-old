{% extends 'base.html' %}
{% block title %}Jugadores registrados{% endblock %}

{% block content %}
<h2>ğŸ¾ Jugadores registrados</h2>
<p class="subtitulo">Filtra, analiza y potencia el talento de ASOPADAL.</p>

<!-- ğŸ” Buscador -->
<form method="get" class="busqueda-form">
  <input type="text" name="q" placeholder="Buscar por nombre..." value="{{ query }}">
  <button type="submit">ğŸ” Buscar</button>
</form>

<!-- â• Crear nuevo jugador -->
<a href="{% url 'core:admin_create_player' %}" class="btn">â• Crear jugador</a>

<!-- ğŸ“‹ Tabla de jugadores -->
<table class="tabla-jugadores">
  <thead>
    <tr>
      <th>CÃ©dula</th>
      <th>Nombre completo</th>
      <th>TelÃ©fono</th>
      <th>CategorÃ­a</th>
      <th>Ranking</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for jugador in jugadores %}
    <tr>
      <td>{{ jugador.cedula }}</td>
      <td>{{ jugador.first_name }} {{ jugador.last_name }}</td>
      <td>{{ jugador.telefono }}</td>
      <td>{{ jugador.categoria_jugador }}</td>
      <td>{{ jugador.ranking }}</td>
      <td>
        <a href="{% url 'core:admin_edit_player' jugador.id %}" class="btn-editar">âœï¸ Editar</a>
        <form action="{% url 'core:admin_delete_player' jugador.id %}" method="post" style="display:inline;" onsubmit="return confirm('Â¿Eliminar este jugador?');">
          {% csrf_token %}
          <button type="submit" class="btn-eliminar">ğŸ—‘ï¸</button>
        </form>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="6">No hay jugadores registrados aÃºn.</td></tr>
    {% endfor %}
  </tbody>
</table>

<!-- ğŸ“„ PaginaciÃ³n -->
<div class="paginacion">
  {% if jugadores.has_previous %}
    <a href="?q={{ query }}&page={{ jugadores.previous_page_number }}">â¬…ï¸ Anterior</a>
  {% endif %}

  <span>PÃ¡gina {{ jugadores.number }} de {{ jugadores.paginator.num_pages }}</span>

  {% if jugadores.has_next %}
    <a href="?q={{ query }}&page={{ jugadores.next_page_number }}">Siguiente â¡ï¸</a>
  {% endif %}
</div>
{% endblock %}